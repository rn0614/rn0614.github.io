프로젝트 진행중 두 테이블간의 관계가 1.계획테이블, 2.실적테이블 이렇게 2개의 테이블이 존재하는 데이터가 있었다.

문제는 실적테이블은 기계가 발생시키는 것이고 계획테이블은 사람이 쓰는거다. 기존에 날짜, 데이터 구분자로 데이터를 join해서 사용했으나 실적이 계획보다 빨리 할 때도 있고, 사람이 계획테이블을 까먹고 나중에 입력하는 케이스가 있었다. 실적데이터를 입력할 때는 계획테이블에 데이터가 있다면 default로 화면에 보여줘야 하는 경우가 생긴다. 또한 계획테이블 입력시 실적테이블에 데이터가 있으면 데이터와 연결되도록 해야한다.

즉

1. 정상케이스 : 계획(21일) - 실적(21일)  : 계획테이블에서 seqId 생성 실적화면에서 보여줄때 default로 갖고 있다가 입력됨.
2. 비정상1 :      계획(21일) - 실적(20일)  : 계획테이블에서 seqId 생성 실적화면에서 없다면 primary key의 seqId를 가져와서 사용
3. 비정상2 :      실적(21일) - 계획(21일)  : 실적테이블에서 seqId 생성 계획테이블 생성시 같은 날짜에 primary key가 있다면 seqid입력
4. 비정상3 :      실적(21일) - 계획(22일)  : 방법없음. 실적이 입력된 상태에서 다른날짜로 계획입력시 문제 


이렇게 케이스에 대응하여 두 테블 중어떤 테이블을 먼저 쓰더라도 상대테이블을 join 해서 볼 수 있어야했다. 이중 실적테이블의 날짜는 실제로 행동한 날이기 때문에 변할 수 없다고 판단된다.

foreign key로 이 문제가 해결되는데 sequence 테이블을 하나 만들어서 둘 사이를 잇는거다. 
